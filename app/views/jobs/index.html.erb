<p class="lead"><strong>Workie Workie</strong> is probably the best place to find and list current jobs postings in Laredo, Texas. Follow us on Twitter <a href="#" target="_blank">@workieworkie</a></p>

<div ng-controller="SearchCtrl">

  <div class="row well">
    <div class="col-md-6">
      
      <form role="form">
        <input type="search" class="form-control" placeholder="Search" ng-model="query">

        <!--
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="originFilter['City of Laredo']" ng-click="leLog()">
            City of Laredo
          </label>
        </div>

        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="originFilter['Laredo Community College']" ng-click="leLog()">
            Laredo Community College
          </label>
        </div>
        
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="originFilter['Webb County']" ng-click="leLog()">
            Webb County
          </label>
        </div>
        -->

      </form>

    </div>
    <div class="col-md-6">
      <p class="pull-right"><a class="btn btn-primary">Post a job: $100 for 30 days</a></p>
    </div>
  </div><!-- /.row .well -->

  <p>{{originFilter}}</p>
  <ul>
    <li ng-repeat="origin in originFilter">{{origin}}</li>
  </ul>

  <ul class="list-unstyled">
    <li ng-repeat="origin in origins">
      <a href="#" ng-click="setCurrentOrigin(origin)" ng-class="{'btn-primary':isCurrentOrigin(origin)}">{{origin.name}}</a>
    </li>
    <li><a href="#" ng-click="setCurrentOrigin(null)">Reset</a></li>
  </ul>

  <p>{{whata}}</p>

  <pre>{{notFilteredJobs}}</pre>

  <p class="pull-right">
    Total jobs: <%= @jobs.count %>.
  </p>

  <p>
    Number of jobs currently displayed by your search: {{filteredJobs.length}}.
  </p>

  <table class="table table-striped table-bordered table-hover">
    <thead>
      <tr>
        <th>
          <a href="" ng-click="predicate = 'title'; setReverse()">
            Title 
            <span 
                class="glyphicon glyphicon-arrow-up" 
                ng-if="reverse && predicate == 'title'">
            </span>
            <span 
                class="glyphicon glyphicon-arrow-down" 
                ng-if="!reverse && predicate == 'title'">
            </span>
          </a>
        </th>
        <th>
          <a href="" ng-click="predicate = 'created_at'; setReverse()">
            Added
            <span 
                class="glyphicon glyphicon-arrow-up" 
                ng-if="reverse && predicate == 'created_at'">
            </span>
            <span 
                class="glyphicon glyphicon-arrow-down" 
                ng-if="!reverse && predicate == 'created_at'">
            </span>
          </a>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="job in 
        (filteredJobs = 
            ( jobs | 
            filter:query | 
            filter:{origin:currentOrigin.name} | 
            orderBy:predicate:reverse )
        )">
        <td>
          <a href="/jobs/{{job.id}}">{{job.title}}</a>
          <span class="text-muted">{{job.origin}}</span>
        </td>
        <td>{{job.created_at | date:'MMM dd'}}</td>
      </tr>
    </tbody>
</table>
</div>



<!--
<table class="table table-striped table-bordered table-hover">
  <thead>
    <tr>
      <th>Title</th>
      <th>Added</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @jobs.each do |job| %>
      <tr>
        <td>
          <strong><%= job.origin %></strong>
          <%= link_to job.title, job.link %>
        </td>
        <td><%= job.created_at.strftime('%b %d') %></td>
        <td><%= link_to 'Show', job %></td>
      </tr>
    <% end %>
  </tbody>
</table>
-->

<br>

<!--
<%= link_to 'New Job', new_job_path %>
-->