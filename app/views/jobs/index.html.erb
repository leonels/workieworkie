<p class="lead"><strong>Workie Workie</strong> is probably the best place to find and list current jobs postings in Laredo, Texas. Follow us on Twitter <a href="#" target="_blank">@workieworkie</a>, <a href="#" target="_blank">Facebook</a> and <a href="#" target="_blank">Google+</a>.</p>

<div ng-controller="SearchCtrl">

  <div class="row well">
    <div class="col-md-6">
      
      <form role="form">
        <input type="search" class="form-control" placeholder="Search" ng-model="query">

      </form>

    </div>
  </div><!-- /.row .well -->

  <!--
  <div class="btn-group" role="group">
    <button 
      type="button" 
      class="btn btn-default"
      ng-click="setCurrentOrigin(null)">
      All
    </button>
    <button 
      ng-repeat="origin in origins"
      type="button" 
      class="btn btn-default" 
      ng-repeat="origin in origins" 
      ng-click="setCurrentOrigin(origin)" 
      ng-class="{'active':isCurrentOrigin(origin)}">
      {{origin.name}}
    </button>
  </div>
  -->

  <p></p>

  <div>
    <p class="pull-right"><a class="btn btn-primary">Post a job: $100 for 30 days</a></p>
  </div>

  <p class="pull-right">
    Total jobs: <%= @jobs.count %>.
  </p>

  <!--
  <p>
    Number of jobs currently displayed by your search: {{filteredJobs.length}}.
  </p>
  -->

  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>
          <a href="" ng-click="predicate = 'title'; setReverse()">
            Title 
            <span 
                class="glyphicon glyphicon-arrow-up" 
                ng-if="!reverse && predicate == 'title'">
            </span>
            <span 
                class="glyphicon glyphicon-arrow-down" 
                ng-if="reverse && predicate == 'title'">
            </span>
          </a>
        </th>
        <th>
          <a href="" ng-click="predicate = 'created_at'; setReverse()">
            Added
            <span 
                class="glyphicon glyphicon-arrow-up" 
                ng-if="!reverse && predicate == 'created_at'">
            </span>
            <span 
                class="glyphicon glyphicon-arrow-down" 
                ng-if="reverse && predicate == 'created_at'">
            </span>
          </a>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="job in 
        (filteredJobs = 
            ( jobs | 
            filter:query | 
            filter:{origin:currentOrigin.name} | 
            orderBy:predicate:reverse )
        )">
        <td>
          <span
            class="label label-danger"
            ng-if="todayFormatted == (job.created_at | date:'MMM dd yy')">NEW</span>
          <a href="/jobs/{{job.id}}">{{job.title}}</a>
          <span class="text-muted">{{job.origin}}</span>
        </td>
        <td>{{job.created_at | date:'MMM dd'}}</td>
      </tr>
    </tbody>
</table>
</div>



<!--
<table class="table table-striped table-bordered table-hover">
  <thead>
    <tr>
      <th>Title</th>
      <th>Added</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @jobs.each do |job| %>
      <tr>
        <td>
          <strong><%= job.origin %></strong>
          <%= link_to job.title, job.link %>
        </td>
        <td><%= job.created_at.strftime('%b %d') %></td>
        <td><%= link_to 'Show', job %></td>
      </tr>
    <% end %>
  </tbody>
</table>
-->

<br>

<!--
<%= link_to 'New Job', new_job_path %>
-->